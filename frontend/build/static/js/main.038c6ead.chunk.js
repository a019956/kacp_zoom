(this.webpackJsonpkacp_zoom=this.webpackJsonpkacp_zoom||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),o=n(19),r=n.n(o),s=(n(68),n(18)),c=n.n(s),l=n(23),u=n(7),m=n(9),p=n(11),h=n(10),d=n(62),b=n(27),g=n(8),f=(n(51),n(70),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement("form",{className:"inputField",onSubmit:this.props.onSubmit},i.a.createElement("label",null,this.props.label),i.a.createElement("input",{className:"input",type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,size:15,onChange:this.props.onChange}))}}]),n}(a.Component)),v=(n(71),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement("button",{className:"log-in-button",type:"submit",onClick:this.props.onSubmit},this.props.text)}}]),n}(a.Component)),j=n(4),O=new function e(){Object(u.a)(this,e),Object(j.h)(this,{loading:!0,isLoggedIn:!1,checkAppointment:!1,user:""})},T=n(59),k=n.n(T),y=(a.Component,n(73),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement("header",null,i.a.createElement("h1",null,"KACP Zoom Scheduler"),i.a.createElement("nav",null,i.a.createElement("ul",{className:"navItems"},i.a.createElement("li",null,i.a.createElement("a",null,"Log In")))))}}]),n}(a.Component)),C=n(39),S=n.n(C),E=(n(74),n(29)),w=(n(75),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={date:"",startTime:"",endTime:"",purpose:"",buttonDisabled:!1},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(g.a)(a)),a.handleTimeChange=a.handleTimeChange.bind(Object(g.a)(a)),a.doAppointment=a.doAppointment.bind(Object(g.a)(a)),a.timeToInt=a.timeToInt.bind(Object(g.a)(a)),a.timesToDuration=a.timesToDuration.bind(Object(g.a)(a)),a}return Object(m.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleDateChange",value:function(e,t){this.setState(Object(b.a)({},t,e))}},{key:"handleTimeChange",value:function(e,t){this.setState(Object(b.a)({},t,e))}},{key:"timeToInt",value:function(e){var t="";return e.split(":").forEach((function(e){t+=e})),parseInt(t)}},{key:"timesToDuration",value:function(e,t){for(var n=[];e<=t;)n.push(e),e+=e%100===0?30:70;return n}},{key:"doAppointment",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a,i,o,r,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.date&&""!==this.state.startTime&&""!==this.state.endTime&&""!==this.state.purpose){e.next=3;break}return alert("Please fill out all fields."),e.abrupt("return");case 3:if(t=this.state.date.toLocaleDateString("en-GB"),n=this.state.startTime.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),a=this.state.endTime.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),i=this.state.purpose,console.log(a),console.log(n.split(":")),o=this.timeToInt(n),r=this.timeToInt(a),console.log(r),!(this.state.date<this.state.startTime||o>r)){e.next=15;break}return alert("Invalid time."),e.abrupt("return");case 15:return this.setState({buttonDisabled:!0}),s=this.timesToDuration(o,r),console.log(s),e.prev=18,e.next=21,fetch("/appointment",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({date:t,duration:s,purpose:i})});case 21:return l=e.sent,e.next=24,l.json();case 24:(u=e.sent)&&u.success?(O.madeAppointment=!0,O.username=u.username):u&&!1===u.success&&alert(u.msg),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(18),console.log(e.t0);case 31:case"end":return e.stop()}}),e,this,[[18,28]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.startTime,o=t.endTime;return i.a.createElement("div",{className:"AppointmentPicker"},i.a.createElement(S.a,{className:"date-picker",name:"date",selected:n,onChange:function(t){return e.handleDateChange(t,"date")},onSelect:this.handleClick,placeholderText:"Select Date",dateFormat:"MM/dd/yyyy",minDate:Object(E.default)(new Date,1),maxDate:Object(E.default)(new Date,8)}),i.a.createElement(S.a,{className:"start-time-picker",name:"startTime",selected:a,onChange:function(t){return e.handleDateChange(t,"startTime")},onSelect:this.handleClick,placeholderText:"Select Starting Time",showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"h:mm aa"}),i.a.createElement(S.a,{className:"end-time-picker",name:"endTime",selected:o,onChange:function(t){return e.handleDateChange(t,"endTime")},onSelect:this.handleClick,placeholderText:"Select Ending Time",showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"h:mm aa"}),i.a.createElement(f,{className:"PurposePicker",type:"text",name:"purpose",value:this.state.purpose,onChange:this.handleChange}),i.a.createElement(v,{onSubmit:function(){e.doAppointment()},text:"Confirm"}))}}]),n}(a.Component)),x=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/isLoggedIn",{method:"post",headers:{Accept:"application/json","Content-Type":"application.json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&n.success?(O.loading=!1,O.isLoggedIn=!0,O.username=n.username):(O.loading=!1,O.isLoggedIn=!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),O.loading=!1,O.isLoggedIn=!1;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{className:"time-picker-page"},i.a.createElement(y,null),"Welcome ",O.username,i.a.createElement(w,null))}}]),n}(a.Component),D=Object(d.a)(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,n){},59:function(e,t,n){e.exports=n.p+"static/media/log-in-image.8285a10e.png"},63:function(e,t,n){e.exports=n(137)},68:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},75:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.038c6ead.chunk.js.map
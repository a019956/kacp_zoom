(this.webpackJsonpkacp_zoom=this.webpackJsonpkacp_zoom||[]).push([[0],{138:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(20),o=n.n(s),i=(n(67),n(11)),c=n.n(i),l=n(19),u=n(7),m=n(8),p=n(10),h=n(9),d=n(61),g=n(27),b=n(12),f=(n(69),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{className:"inputField",onSubmit:this.props.onSubmit},r.a.createElement("label",null,this.props.label),r.a.createElement("input",{className:"input",type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,size:15,onChange:this.props.onChange}))}}]),n}(a.Component)),v=(n(70),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("button",{className:"log-in-button",type:"submit",onClick:this.props.onSubmit},this.props.text)}}]),n}(a.Component)),j=n(4),O=new function e(){Object(u.a)(this,e),Object(j.h)(this,{loading:!0,isLoggedIn:!1,username:""})},y=(n(72),n(51),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"",password:"",buttonDisabled:!1},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleLogIn=a.handleLogIn.bind(Object(b.a)(a)),a.doLogIn=a.doLogIn.bind(Object(b.a)(a)),a}return Object(m.a)(n,[{key:"resetForm",value:function(){this.setState({username:"",password:""})}},{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleLogIn",value:function(e){console.log(this.state.username),console.log(this.state.password),this.resetForm()}},{key:"doLogIn",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=this.state.username){e.next=3;break}return alert("username is empty."),e.abrupt("return");case 3:if(""!=this.state.password){e.next=6;break}return alert("password is empty."),e.abrupt("return");case 6:return this.setState({buttonDisabled:!0}),e.prev=7,e.next=10,fetch("/login",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 10:return t=e.sent,e.next=13,t.json();case 13:(n=e.sent)&&n.success?(O.isLoggedIn=!0,O.username=n.username):n&&!1===n.success&&(this.resetForm(),alert(n.msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(7),console.log(e.t0),this.resetForm();case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-container"},r.a.createElement(f,{label:"Username:",type:"username",placeholder:"Username",name:"username",value:this.state.username,onChange:this.handleChange,onSubmit:function(){e.doLogIn()}}),r.a.createElement(f,{label:"Password:",type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange,onSubmit:function(){e.doLogIn()}}),r.a.createElement(v,{onSubmit:function(){e.doLogIn()},text:"Log In"}))}}]),n}(a.Component)),k=(n(73),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"KACP Zoom Scheduler"),r.a.createElement("nav",null,r.a.createElement("ul",{className:"navItems"},r.a.createElement("li",null,r.a.createElement("a",null,"Log In")))))}}]),n}(a.Component)),T=(n(74),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.date,n=(e.time,e.purpose),a=e.startTime,s=e.endTime,o=e.zoom_username;e.meetingID;return r.a.createElement("div",{className:"appointment-card"},r.a.createElement("div",{className:"appointment-content"},r.a.createElement("h3",{calssName:"date"},"date: ",t),r.a.createElement("h3",{className:"startTime"},"starts: ",a),r.a.createElement("h3",{className:"endTime"},"ends: ",s),r.a.createElement("h3",{className:"purpose"},n),r.a.createElement("h3",{className:"zoom-username"},o)))}}]),n}(a.Component)),C=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.appointmentCards.map((function(e,t){return r.a.createElement(T,Object.assign({key:e.id},e))}));return e===[]?r.a.createElement("div",{className:"empty-appointment-list"},"currently no appointments are made."):r.a.createElement("div",{className:"appointment-list"},e)}}]),n}(a.Component),E=n(39),S=n.n(E),w=(n(75),n(29)),x=(n(76),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"",date:"",startTime:"",endTime:"",purpose:"",buttonDisabled:!1,appointments:[]},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(b.a)(a)),a.handleTimeChange=a.handleTimeChange.bind(Object(b.a)(a)),a.doAppointment=a.doAppointment.bind(Object(b.a)(a)),a.timeToInt=a.timeToInt.bind(Object(b.a)(a)),a.timesToDuration=a.timesToDuration.bind(Object(b.a)(a)),a}return Object(m.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleDateChange",value:function(e,t){this.setState(Object(g.a)({},t,e))}},{key:"handleTimeChange",value:function(e,t){this.setState(Object(g.a)({},t,e))}},{key:"timeToInt",value:function(e){var t="";return e.split(":").forEach((function(e){t+=e})),parseInt(t)}},{key:"timesToDuration",value:function(e,t){for(var n=[];e<=t;)n.push(e),e+=e%100===0?30:70;return n}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.username,console.log("THIS IS USERNAME: "+t),e.prev=2,e.next=5,fetch("/getAppointment",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({username:t})});case 5:return n=e.sent,e.next=8,n.json();case 8:a=e.sent,r=a.appointments,this.setState({appointments:r}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),O.loading=!1,O.isLoggedIn=!1;case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getZoomMeeting",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getZoomMeeting",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({email:"itteam@kacp.org"})});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=n.meetingUrl,console.log(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"doAppointment",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a,r,s,o,i,l,u,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.date&&""!==this.state.startTime&&""!==this.state.endTime&&""!==this.state.purpose){e.next=3;break}return alert("Please fill out all fields."),e.abrupt("return");case 3:if(t=O.username,n=this.state.date.toLocaleDateString("en-GB"),a=this.state.startTime.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),r=this.state.endTime.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),s=this.state.purpose,o=this.timeToInt(a),i=this.timeToInt(r),console.log(i),!(this.state.date<this.state.startTime||o>i)){e.next=14;break}return alert("Invalid time."),e.abrupt("return");case 14:return this.setState({buttonDisabled:!0}),l=this.timesToDuration(o,i),e.prev=16,e.next=19,fetch("/appointment",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({username:t,date:n,duration:l,purpose:s,startTime:a,endTime:r})});case 19:return u=e.sent,e.next=22,u.json();case 22:((m=e.sent)&&m.success||m&&!1===m.success)&&alert(m.msg),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(16),console.log(e.t0);case 29:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.startTime,s=t.endTime;return r.a.createElement("div",{className:"appointment-container"},r.a.createElement("div",{className:"AppointmentPicker"},r.a.createElement("h3",{className:"welcome"},O.username),r.a.createElement(S.a,{className:"date-picker",name:"date",selected:n,onChange:function(t){return e.handleDateChange(t,"date")},onSelect:this.handleClick,placeholderText:"Select Date",dateFormat:"MM/dd/yyyy",minDate:Object(w.default)(new Date,1),maxDate:Object(w.default)(new Date,8)}),r.a.createElement(S.a,{className:"start-time-picker",name:"startTime",selected:a,onChange:function(t){return e.handleDateChange(t,"startTime")},onSelect:this.handleClick,placeholderText:"Select Starting Time",showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"h:mm aa"}),r.a.createElement(S.a,{className:"end-time-picker",name:"endTime",selected:s,onChange:function(t){return e.handleDateChange(t,"endTime")},onSelect:this.handleClick,placeholderText:"Select Ending Time",showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"h:mm aa"}),r.a.createElement(f,{className:"PurposePicker",type:"text",name:"purpose",value:this.state.purpose,onChange:this.handleChange}),r.a.createElement(v,{onSubmit:function(){e.doAppointment()},text:"Confirm"})),r.a.createElement("div",{className:"AppointmentChecker"},r.a.createElement(C,{appointmentCards:this.state.appointments}),r.a.createElement(v,{onSubmit:function(){e.componentDidMount()},text:"Appointments"}),r.a.createElement(v,{onSubmit:function(){e.getZoomMeeting()},text:"Testing Zoom Meeting"})))}}]),n}(a.Component)),I=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"username"},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/isLoggedIn",{method:"post",headers:{Accept:"application/json","Content-Type":"application.json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&n.success?(O.loading=!1,O.isLoggedIn=!0):(O.loading=!1,O.isLoggedIn=!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),O.loading=!1,O.isLoggedIn=!1;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return O.isLoggedIn?r.a.createElement("div",{className:"time-picker-page"},r.a.createElement(k,null),r.a.createElement(x,null)):r.a.createElement("div",{className:"log-in-page"},r.a.createElement(y,null))}}]),n}(a.Component),N=Object(d.a)(I);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,n){},62:function(e,t,n){e.exports=n(138)},67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){e.exports=n.p+"static/media/log-in-image.8285a10e.png"},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.f269c2e9.chunk.js.map
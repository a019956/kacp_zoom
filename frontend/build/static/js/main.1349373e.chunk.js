(this.webpackJsonpkacp_zoom=this.webpackJsonpkacp_zoom||[]).push([[0],{138:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(20),i=n.n(s),o=(n(67),n(12)),c=n.n(o),l=n(19),u=n(7),m=n(8),p=n(10),d=n(9),h=n(61),b=n(27),f=n(11),g=(n(51),n(69),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("label",null,this.props.label),r.a.createElement("input",{className:"input",type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,size:15,onChange:this.props.onChange}))}}]),n}(a.Component)),v=(n(70),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("button",{type:"submit",className:"log-in-button"},this.props.text)}}]),n}(a.Component)),y=n(4),j=new function e(){Object(u.a)(this,e),Object(y.h)(this,{loading:!0,isLoggedIn:!1,username:""})},O=(n(72),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"",password:"",buttonDisabled:!1},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.doLogIn=a.doLogIn.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(m.a)(n,[{key:"resetForm",value:function(){this.setState({username:"",password:""})}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),""!=this.state.username?""!=this.state.password?(this.setState({buttonDisabled:!0}),this.doLogIn()):alert("password is empty."):alert("username is empty.")}},{key:"doLogIn",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/login",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&n.success?(j.username=n.username,j.isLoggedIn=!0):n&&!1===n.success&&(this.resetForm(),alert(n.msg)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),this.resetForm();case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"input-fields",onSubmit:this.handleSubmit},r.a.createElement(g,{label:"Username:",type:"username",placeholder:"Username",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement(g,{label:"Password:",type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement(v,{text:"Log In"})),r.a.createElement("div",{className:"account-request"}))}}]),n}(a.Component)),k=(n(73),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"KACP Zoom Scheduler"),r.a.createElement("nav",null,r.a.createElement("ul",{className:"navItems"})))}}]),n}(a.Component)),C=(n(74),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.purpose,a=e.startTime,s=e.endTime,i=e.zoom_username,o=e.join_url,c=e.start_url,l=e.meeting_id,u=e.onStart,m=e.onDelete;return r.a.createElement("div",{className:"appointment-card"},r.a.createElement("div",{className:"appointment-content-left"},r.a.createElement("h3",{calssName:"date-purpose"},t," meeting for ",n),r.a.createElement("h3",{className:"duration"},"From ",a," to ",s)),r.a.createElement("div",{className:"appointment-content-right"},r.a.createElement("h3",{className:"zoom-username"},i),r.a.createElement("h3",{className:"join-url"},o),r.a.createElement("button",{className:"start-button",onClick:function(){return u(c)}},"Start Meeting"),r.a.createElement("button",{className:"delete-button",onClick:function(){return m(l)}},"Delete Meeting")))}}]),n}(a.Component)),E=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onStart,n=e.onDelete,a=this.props.appointmentCards.map((function(e,a){return r.a.createElement(C,Object.assign({key:e.id},e,{onStart:t,onDelete:n}))}));return a===[]?r.a.createElement("div",{className:"empty-appointment-list"},"currently no appointments are made."):r.a.createElement("div",{className:"appointment-list"},a)}}]),n}(a.Component),S=n(39),T=n.n(S),w=(n(75),n(140)),N=n(29),x=(n(76),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={today:Object(w.default)(new Date,"yyyy-MM-dd"),username:"",date:"",startTime:"",endTime:"",purpose:"",buttonDisabled:!1,appointments:[]},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(f.a)(a)),a.handleTimeChange=a.handleTimeChange.bind(Object(f.a)(a)),a.doAppointment=a.doAppointment.bind(Object(f.a)(a)),a.deleteAppointment=a.deleteAppointment.bind(Object(f.a)(a)),a.timeToInt=a.timeToInt.bind(Object(f.a)(a)),a.timesToDuration=a.timesToDuration.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=j.username;this.setState({username:e}),console.log(e),this.getAppointment()}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleDateChange",value:function(e,t){this.setState(Object(b.a)({},t,e))}},{key:"handleTimeChange",value:function(e,t){this.setState(Object(b.a)({},t,e))}},{key:"timeToInt",value:function(e){var t="";return e.split(":").forEach((function(e){t+=e})),parseInt(t)}},{key:"timesToDuration",value:function(e,t){for(var n=[];e<=t;)n.push(e),e+=e%1e4===0?3e3:7e3;return n}},{key:"getAppointment",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.username,n=Object(w.default)(new Date,"yyyy-MM-dd"),e.prev=2,e.next=5,fetch("/getAppointment",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({username:t,today:n})});case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,s=r.appointments,this.setState({appointments:s}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),j.loading=!1,j.isLoggedIn=!1;case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"doAppointment",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,a,r,s,i,o,l,u,m,p,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(w.default)(new Date,"yyyy-MM-dd"),n=this.state.username,a=this.state.date.toLocaleDateString("fr-CA"),r=this.state.startTime.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),s=this.state.endTime.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=this.state.purpose,o=this.timeToInt(r),l=this.timeToInt(s),!(this.state.date<t||o>l)){e.next=11;break}return alert("Invalid time."),e.abrupt("return");case 11:return this.setState({buttonDisabled:!0}),u=this.timesToDuration(o,l),m=30*(u.length-1),e.prev=14,e.next=17,fetch("/doAppointment",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({username:n,date:a,duration:m,durationArray:u,purpose:i,startTime:r,endTime:s})});case 17:return p=e.sent,e.next=20,p.json();case 20:((d=e.sent)&&d.success||d&&!1===d.success)&&alert(d.msg),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(14),console.log(e.t0);case 27:this.getAppointment();case 28:case"end":return e.stop()}}),e,this,[[14,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),""!==this.state.date&&""!==this.state.startTime&&""!==this.state.endTime&&""!==this.state.purpose?this.doAppointment():alert("Please fill out all fields.")}},{key:"startMeeting",value:function(e){window.open(e)}},{key:"deleteAppointment",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.prev=1,e.next=4,fetch("/deleteAppointment",{method:"post",headers:{Accept:"application/JSON","Content-Type":"application/json"},body:JSON.stringify({id:n})});case 4:return a=e.sent,e.next=7,a.json();case 7:((r=e.sent)&&r.success||r&&!1===r.success)&&alert(r.msg),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:this.getAppointment();case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.startTime,s=t.endTime;return r.a.createElement("div",{className:"AppointmentContainer"},r.a.createElement("form",{className:"AppointmentPicker",onSubmit:this.handleSubmit},r.a.createElement("h3",{className:"welcome"},"Hello, ",j.username),r.a.createElement("h4",{classNAme:"today"},"Today is: ",this.state.today),r.a.createElement(T.a,{className:"date-picker",name:"date",selected:n,onChange:function(t){return e.handleDateChange(t,"date")},onSelect:this.handleClick,placeholderText:"Select Date",dateFormat:"yyyy-MM-dd",minDate:new Date,maxDate:Object(N.default)(new Date,8)}),r.a.createElement(T.a,{className:"start-time-picker",name:"startTime",selected:a,onChange:function(t){return e.handleDateChange(t,"startTime")},onSelect:this.handleClick,placeholderText:"Select Starting Time",showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"h:mm aa"}),r.a.createElement(T.a,{className:"end-time-picker",name:"endTime",selected:s,onChange:function(t){return e.handleDateChange(t,"endTime")},onSelect:this.handleClick,placeholderText:"Select Ending Time",showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"h:mm aa"}),r.a.createElement(g,{className:"PurposePicker",type:"text",name:"purpose",placeholder:"Purpose",value:this.state.purpose,onChange:this.handleChange}),r.a.createElement(v,{text:"Confirm"})),r.a.createElement("div",{className:"AppointmentChecker"},r.a.createElement("div",{className:"explanation",type:"text"}),r.a.createElement(E,{appointmentCards:this.state.appointments,onStart:this.startMeeting,onDelete:this.deleteAppointment})))}}]),n}(a.Component)),D=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={username:"username"},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/isLoggedIn",{method:"post",headers:{Accept:"application/json","Content-Type":"application.json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent)&&n.success?(j.loading=!1,j.isLoggedIn=!0):(j.loading=!1,j.isLoggedIn=!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),j.loading=!1,j.isLoggedIn=!1;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return j.isLoggedIn?r.a.createElement("div",{className:"time-picker-page"},r.a.createElement(k,null),r.a.createElement(x,null)):r.a.createElement("div",{className:"log-in-page"},r.a.createElement(O,null))}}]),n}(a.Component),A=Object(h.a)(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement("div",null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,n){},62:function(e,t,n){e.exports=n(138)},67:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){e.exports=n.p+"static/media/log-in-image.8285a10e.png"},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.1349373e.chunk.js.map